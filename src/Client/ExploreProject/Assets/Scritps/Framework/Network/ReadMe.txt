Client网络层实现，总体思路没问题，部分代码结构还需修改